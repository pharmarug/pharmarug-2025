<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.547">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>First China Pharma R user group meeting - China Pharma RUG meeting program</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">First China Pharma R user group meeting</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./program.html" aria-current="page"> <i class="bi bi-folder" role="img">
</i> 
<span class="menu-text">Program</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./highlights.html"> <i class="bi bi-camera" role="img">
</i> 
<span class="menu-text">Event highlights</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">China Pharma RUG meeting program</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="program" class="level2">
<h2 class="anchored" data-anchor-id="program">Program</h2>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 56%">
<col style="width: 24%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Time</th>
<th>Topic</th>
<th>Presenter</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>8:30-9:00</strong></td>
<td><strong>Registration</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>9:00-9:10</td>
<td>Welcome</td>
<td>Yan Qiao, BeiGene, Chengeng Tian, Novartis</td>
<td>Beijing, Shanghai</td>
</tr>
<tr class="odd">
<td>9:10-9:20</td>
<td>Opening Remarks</td>
<td>Leo Li, BeiGene</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td>9:20-9:50</td>
<td>Most recent update on NEST project</td>
<td>Joe Zhu, Roche</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>9:50-10:20</td>
<td>Baseline shiny framework with TIDYTLG</td>
<td>David Fan, Janssen</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td><strong>10:20-10:50</strong></td>
<td><strong>Break</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>10:50-11:10</td>
<td>Use R to replace SAS in ADaM programming</td>
<td>Chengcheng Ma, Legend;</td>
<td>Nanjing</td>
</tr>
<tr class="even">
<td>11:10-11:30</td>
<td>Hands-on experience on ADaM validation using R</td>
<td>Haoyong Yu, Novartis</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>11:30-12:00</td>
<td>Using R in CDISC Standards Application</td>
<td>Victor Wu, Data Science</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td><strong>12:00-13:00</strong></td>
<td><strong>Lunch Break</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>13:00-13:30</td>
<td>Create your own RStudio project template</td>
<td>Jie Wang, Janssen</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>13:30-14:00</td>
<td>Shiny app deployment architecture for enterprise</td>
<td>Qinghua Liao, Fosun</td>
<td>Beijing</td>
</tr>
<tr class="odd">
<td>14:00-14:30</td>
<td>Practice in building efficient R Shinny application for clinical trial report</td>
<td>Qing Zou, Sanofi</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td>14:30-15:00</td>
<td>Practice in improving execution efficiency in R</td>
<td>Changming Yang, BeiGene</td>
<td>Beijing</td>
</tr>
<tr class="odd">
<td><strong>15:00-15:30</strong></td>
<td><strong>Break</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>15:30-16:00</td>
<td>Practice for comparing R data frame with SAS output</td>
<td>Carlos Pang, Novartis</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>16:00-16:30</td>
<td>Debugging strategy for R</td>
<td>Shuang Gao, BeiGene</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td>16:30-16:55</td>
<td>{mmrm}: a robust and comprehensive R package for implementing mixed models for repeated measures</td>
<td>Liming Li, Roche</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>16:55-17:20</td>
<td>A Shiny app for creating datasets to support popPK analysis</td>
<td>Jingya Wang, Hengrui</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>17:20-17:30</td>
<td>Closing Remarks</td>
<td>Yanli Chang, Novartis</td>
<td>Shanghai</td>
</tr>
</tbody>
</table>
<section id="most-recent-update-on-the-nest-project" class="level3">
<h3 class="anchored" data-anchor-id="most-recent-update-on-the-nest-project">Most recent update on the NEST project</h3>
<p>Joe Zhu, Roche</p>
<p>Joe Zhu is the lead software engineer of the NEST project at Roche. He has a PhD in statistics. Before joining Roche, Joe took two postdoc research positions at the University of Oxford, with a research focus on statistical genomics. He is an open source software advocator and developer; more details can be found at http://www.github.com/shajoezhu.</p>
<p><em>ABSTRACT</em> New data types require new tools and methodologies and there is a need in biometrics to respond quickly to understand the ever increasing growth of data generated from clinical trials. In recent years, analysis software tools have taken huge leaps forward. Therefore, we have seized the business opportunity to build an R-based toolkit that will allow us to meet these challenges.</p>
<p>So far, we have open sourced several of our key packages on the Github. Many of our packages are well received by users. I would like to share some of our most recent updates including new open-source packages and tlg-catalog.</p>
</section>
<section id="baseline-shiny-framework-with-tidytlg" class="level3">
<h3 class="anchored" data-anchor-id="baseline-shiny-framework-with-tidytlg">Baseline shiny framework with TIDYTLG</h3>
<p>David Fan, Janssen</p>
<p>Yubo (David) Fan is an Associate Director Portfolio Lead at Janssen China R&amp;D. David started his pharmaceutical industry career in 2007 as a Biostatistician in PAREXEL Johnson &amp; Johnson group and joined Janssen China R&amp;D in 2014 as Statistical Programming Manager. Since then, he has grown as a leader with increasing responsibilities and built China CVM statistical programming team starting from April 2017.</p>
<p>Currently David is leading a local team with 11 members and responsible for managing CVM and NS portfolios. With high interest and great passion in R technology, David joined Janssen global R implementation initiative in 2019 and has been serving as the sub-team lead for baseline shiny group from 2021. Under his leadership, shiny sub-team generated the draft version of baseline shiny framework at the end of 2022 and is collaborating with study teams for piloting. David holds a PhD in Epidemiology and Health Statistics from Soochow University.</p>
<p><em>ABSTRACT</em> Open-source technologies have been rapidly growing in recent years, more and more pharmaceutical companies are starting to use R as an alternative to SAS or additional software for clinical trial reporting. To ease the transition for programmers from SAS to R, C&amp;SP group in Janssen R&amp;D developed the tidytlg package for R to create the tables, listings, and graphs (TLG) for clinical study reports. This package has been published to the pharmaverse repository on GitHub.</p>
<p>Baseline Shiny framework is an R package that helps user to create interactive Shiny applications, simply by shuffling around clinical trial data and pre-developed Shiny modules in a yml configuration file. It covers most of the standard safety tables and figures as well as a couple of efficacy modules. In the backend, it depends on tidytlg package for standard tables to keep consistent with static RTF tables based on J&amp;J standard. At the same time, the Shiny App provides more features for users to explore data and get more information from the interactive outputs.</p>
<p>Our presentation will give a brief introduction on the main idea of tidytlg package and mainly focus on baseline Shiny framework with a detailed demo on Shiny App generated based on this framework.</p>
</section>
<section id="use-r-to-replace-sas-in-adam-programming" class="level3">
<h3 class="anchored" data-anchor-id="use-r-to-replace-sas-in-adam-programming">Use R to replace SAS in ADaM programming</h3>
<p>Chengcheng Ma, Legend</p>
<p>6 years of working experience as a clinical programmer, Using R over 3 years.</p>
<p><em>ABSTRACT</em> This presentation would introduce how to generate ADaM datasets based on tidyverse, admiral, admiralonco, and other pharmaverse packages. It will cover general ADaM mapping workflow, including batch reading sas datasets, generating key ADaM variables, reading ADaM variable labels and type from spec, generating xpt datasets, comparing with datasets generated from SAS, etc. The aim is to discuss the possible use of R to replace SAS in ADaM programming based on real Chinese studies.</p>
</section>
<section id="hands-on-experience-of-adam-validation-using-r" class="level3">
<h3 class="anchored" data-anchor-id="hands-on-experience-of-adam-validation-using-r">Hands-on experience of ADaM validation using R</h3>
<p>Take ADLB as an example Haoyong Yu, Novartis</p>
<p>Haoyong has over 5 years of experience using both SAS and R and has been working as a statistical programmer at Novartis since 2020.</p>
<p><em>ABSTRACT</em> This presentation provides hands-on experience of ADaM validation using R with ADLB as an example, covering the R programming workflow, step-by-step validation, creating custom functions, and comparing R and SAS. This practical example is designed for programmers with a basic understanding of R, but who may not have experience with clinical reporting packages, such as the pharmaverse project. By the end of this presentation, you will gain valuable experience and skills in ADaM validation using R.</p>
</section>
<section id="using-r-in-cdisc-standards-application" class="level3">
<h3 class="anchored" data-anchor-id="using-r-in-cdisc-standards-application">Using R in CDISC Standards Application</h3>
<p>Victor Wu, Data Science</p>
<p>Victor Wu, Ph.D., is Co-founder of Beijing Data Science Express Consulting Co., Ltd, Chair of China CDISC Coordinating Committee. Dr.&nbsp;Wu has over 15 years of work experience in data science, CDISC standards implementation (including CDASH, SDTM and ADaM) and data submission package preparation to multiple region’s agencies.</p>
<p><em>ABSTRACT</em> To introduce R tools included in CDISC Open Source Alliance(COSA), such as Admir, tidyCDISC and Tplyr（to create ADaM datasets or TLFs with CDISC datasets). To discuss the future role of programmer of R and other programming language in clinical drug development process.</p>
</section>
<section id="create-your-own-rstudio-project-template" class="level3">
<h3 class="anchored" data-anchor-id="create-your-own-rstudio-project-template">Create Your Own RStudio Project Template</h3>
<p>Jie Wang, Janssen</p>
<p>Jerry Wang, Data Engineer within the Data Engineering &amp; Analytics team of Clinical &amp; Statistical Programming Department, at Janssen China R &amp; D. He is a technologically savvy statistical programmer who is focusing on identifying opportunities, driving optimization and innovation, applying traditional and cutting-edge approaches on clinical related data analytics. Prior to this role, he has 10 years of experiences in drug development industry. He joined Janssen in 2017 and accumulated extensive statistical programming and analysis experiences spanning phase I to phase III trials. Before Janssen, he worked at Pfizer R&amp;D as Technical Supervisor, Clinical Programming.</p>
<p><em>ABSTRACT</em> As more and more companies and organizations in pharmaceutical industry are adopting R to their statistical programming process, it is possible that more and more clinical studies and programmers will be utilizing RStudio Project workflow (as demonstrated in Chapter 8 of R4DS). Since every programmer on each team works in their own way, how can we make sure everyone on the team is using the same setting? To help ensure that teams share the same project standards, RStudio offers flexibility, where user can develop (in form of packages) many templates to be shared amongst users on the same team. This presentation will give a brief introduction to RStudio Project Template and how to create a simple project template from scratch. In addition, will also introduce and review a few different RStudio Project Templates shared by some of the most popular R packages and what we could learn from their design.</p>
</section>
<section id="shiny-app-deployment-architecture-for-enterprise" class="level3">
<h3 class="anchored" data-anchor-id="shiny-app-deployment-architecture-for-enterprise">Shiny app deployment architecture for enterprise</h3>
<p>Qinghua Liao, Fosun</p>
<p>Liao Qinghua has worked as a software engineer for more than 10 years. He joined the Biostatistics and Data Science Department of FosunPharma in early 2021, and is committed to construct statistical computing environment (SCE), develop automation tools for clinical trial submission and Shiny Apps for data visualization. He is an R language enthusiast.</p>
<p><em>ABSTRACT</em> This topic discusses the deployment architecture of R shiny App in enterprise environment. Including using the {renv} package to keep the version of the R dependency package consistent, using Docker technology to keep R and the operating system consistent, and discussing how to use ShinyProxy to implement user authentication and authorization.</p>
</section>
<section id="practice-in-building-efficient-r-shinny-application-for-clinical-trial-report" class="level3">
<h3 class="anchored" data-anchor-id="practice-in-building-efficient-r-shinny-application-for-clinical-trial-report">Practice in building efficient R Shinny application for clinical trial report</h3>
<p>Qing Zou, Sanofi</p>
<p>Zou Qing, Statistical Programmer and R developer at Sanofi. In the last three years, he has supported a large application development and led multiple solid tumor studies in oncology at Sanofi. He was in charge of writing R training materials and provided R training to colleagues from global and transversal groups. He authored several internal R packages and API, focusing on document convention and biomarker analysis visualization.</p>
<p><em>ABSTRACT</em> When developing a comprehensive and advanced interactive-data-driven R shiny application based on pre-processed clinical trial data (SDTMs and ADaMs), as the application module increases and more and more different clinical project involved in, performance issues may arise, while also considering how the development team can collaborate more efficiently. This presentation will illustrate our thinking about the following obstacles: • What key roles do we need to make up of the project team? • How to manage the growing complexity of Shiny application code? • What is the proper way to handle the customize needs between different projects? • How to use Gitlab to build a pipeline for automating the code checking and unit test? What strategies can we use to address these challenges? There are a few good practices to keep a growing app with better performance by taking the advantage of JavaScript and Database.</p>
</section>
<section id="practice-in-improving-execution-efficiency-in-r" class="level3">
<h3 class="anchored" data-anchor-id="practice-in-improving-execution-efficiency-in-r">Practice in improving execution efficiency in R</h3>
<p>Changming Yang, BeiGene</p>
<p>Changming is working in BeiGene and have four years’ working experience on Clinical Programming and Data Analysis. He is interested in R and often use R in daily work.</p>
<p><em>ABSTRACT</em> Code performance always have an invisible effect in our work. It may bring time consumption in code maintenance, or affect user experience in a shiny app. This share will be based on the speaker’s experience in daily wok, talking about vectorize and loop in R, and its effect in data frame operations; using parallel and RCPP in R; dplyr interface to data.table; and string operation based on regular expression in data processing.</p>
</section>
<section id="practices-for-comparing-r-data-frame-with-sas-output" class="level3">
<h3 class="anchored" data-anchor-id="practices-for-comparing-r-data-frame-with-sas-output">Practices for Comparing R Data Frame with SAS Output</h3>
<p>Carlos Pang, Novartis</p>
<p>12 years working experience as a statistical programmer, Master of Mathematics</p>
<p><em>ABSTRACT</em> In this presentation, we will discuss best practices for reading SAS outputs <em>.sas7bdat, </em>.rtf into R and explore techniques for comparing data frames in R using the arsenal package. In addition, we will demonstrate how to summarize and pool the comparison results through S3 function and R Shiny. These techniques can improve programmers’ daily work in a simple and user-friendly way and facilitate a smooth transition from SAS to R.</p>
</section>
<section id="debugging-strategy-for-r" class="level3">
<h3 class="anchored" data-anchor-id="debugging-strategy-for-r">Debugging Strategy for R</h3>
<p>Shuang Gao, BeiGene</p>
<p>Shuang Gao Principal Statistical Programmer, Scientific Programming APAC at BeiGene Co.&nbsp;She has 6 years of experience in statistical programming. Before joining BeiGene in 2022, she worked in Sanofi/Parexel and participate in various therapeutical areas with experience in studies from Phase I-III. Aside from projects, She is enthusiastic about R software and her expertise in R is data visualization.</p>
<p><em>ABSTRACT</em> Finding the root cause of a problem is always challenging. Most bugs are subtle and hard to find because if they were obvious, you would’ve avoided them in the first place. A good strategy helps. R comes with a simple set of debugging tools that RStudio amplifies. You can use these tools to better understand code that produces an error or returns an unexpected result. This topic help beginner on their journey from getting to know the art and science of debugging, starting with a general strategy, then following up with specific tools. we focus specifically on the R debugging tools built into the RStudio IDE; for more general advice on debugging in R (such as philosophy and problem-solving strategies).</p>
</section>
<section id="mmrm-a-robust-and-comprehensive-r-package-for-implementing-mixed-models-for-repeated-measures" class="level3">
<h3 class="anchored" data-anchor-id="mmrm-a-robust-and-comprehensive-r-package-for-implementing-mixed-models-for-repeated-measures">{mmrm}: a robust and comprehensive R package for implementing mixed models for repeated measures</h3>
<p>Liming Li, Roche</p>
<p>Liming Li has been a senior data scientist in PD Data Sciences, Roche since 2019. He obtained master degree in biostatistics in Fudan university. He is now the technical engineering lead for chevron product of NEST, and also member of mmrm taskforce of American Statistical Association Biopharmaceutical Section Software Engineering Working Group. In his spare time, he enjoys playing with his cat.</p>
<p><em>ABSTRACT</em> Mixed models for repeated measures (MMRM) analyses have been extensively used in the pharmaceutical industry. Still, a comprehensive and efficient implementation in R has yet to be available, compared to the commercial software SAS. To bridge this gap and move our analysis in the pharmaceutical area to next-gen tools, we decided to develop a new package, <code>mmrm</code>, in an open-sourced manner under ASA BIOP SWE working group. In this session, we will compare the new <code>mmrm</code> package, with other current implementations. In addition, we would like to share the experience of this cross-industrial collaboration.</p>
</section>
<section id="a-shiny-app-for-creating-datasets-to-support-poppk-analysis" class="level3">
<h3 class="anchored" data-anchor-id="a-shiny-app-for-creating-datasets-to-support-poppk-analysis">A Shiny App for Creating Datasets to Support popPK Analysis</h3>
<p>Jingya Wang, Hengrui</p>
<p>Jingya Wang, graduated from New York University with a master’s degree in Biostatistics, and has 2 years of experience as a clinical programmer at Jiangsu Hengrui Pharmaceuticals Company Ltd.&nbsp;She is highly interested in using R language and SHINY in pharmaceutical clinical trials, and on the road of trying to develop SHINY applications to improve my work efficiency.</p>
<p><em>ABSTRACT</em> This popPK web application is created based on R shiny. Users can use the shiny app to create datasets from raw-EDC data to support popPK analysis without knowing any programming knowledge. It supports EDC data from BioKnown or Rave EDC systems and provides step-by-step selections to guide users to keep the needed information. A basic workflow of using this app to create a popPK supporting dataset from the start will be introduced, along with some open-ended functions that allow users to create self-defined variables and deal with special occasions.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/insightsengineering">
<p>NEST</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://openpharma.github.io/workshop-r-swe/">
<p>Good software engineering practice for R packages</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>