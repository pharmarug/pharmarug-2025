<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>China Pharma RUG meeting program – ![](resources/2025logo.png){fig-alt="Posit" width=50px}</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-76b41f5da0ac2d666a1870266dfaf828.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><img src="resources/2025logo.png" class="img-fluid" alt="Posit" width="50"></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./program.html" aria-current="page"> <i class="bi bi-folder" role="img">
</i> 
<span class="menu-text">Program</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./questions.html"> <i class="bi bi-question-circleg" role="img">
</i> 
<span class="menu-text">Q &amp; A</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./highlights.html"> <i class="bi bi-camera" role="img">
</i> 
<span class="menu-text">Event highlights</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">China Pharma RUG meeting program</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<table class="caption-top table">
<thead>
<tr class="header">
<th>Time</th>
<th>Topic</th>
<th>Presenter</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8:30-9:00</td>
<td>Registration</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>9: 00-9:10</td>
<td>Welcome</td>
<td>Baoqing Li, J&amp;J</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>9:10-9:15</td>
<td>Opening Remarks</td>
<td>Yanli Chang, J&amp;J</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>9:15-9:40</td>
<td><a href="resources/slides/session_1_1_ComparePrism - A package to perform comprehensive data comparison and reporting - Bo Ye.pptx">ComparePrism: A package to perform comprehensive data comparison and reporting</a></td>
<td>Bo Ye, Sanofi</td>
<td>Beijing</td>
</tr>
<tr class="odd">
<td>9:40-10:05</td>
<td><a href="resources/slides/session_1_2_R Package to Calculate Toxicity Grade_Dan Li.pptx">R package to calculate toxicity grade</a></td>
<td>Dan Li, Merck</td>
<td>Online</td>
</tr>
<tr class="even">
<td>10:05-10:35</td>
<td>Break</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>10:35-11:00</td>
<td><a href="resources/slides/session_2_1_Developing Context-Aware AI Coding Assistants for Clinical Data Analysis - Steven Brooks &amp; Xiecheng Gu.pptx">Developing Context-Aware AI Coding Assistants for Clinical Data Analysis in R</a></td>
<td>Steven Brooks, Xiecheng Gu, Boehringer Ingelheim</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>11:00-11:25</td>
<td><a href="resources/slides/session_2_2_A New Era for R Programming How AI is Changing the Way We Work - Jiaqi Song.pdf">A New Era for R Programming: How AI is Changing the Way We Work</a></td>
<td>Jiaqi Song, J&amp;J</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>11:25-11:50</td>
<td><a href="resources/slides/session_2_3_Leveraging R and AI - Advancing ADaM Automation for Clinical Data Analysis - Shuang Gao.pdf">Leveraging R and AI: Advancing ADaM Automation for Clinical Data Analysis</a></td>
<td>Shuang Gao, Beigene</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td>12:00-13:30</td>
<td>Lunch Break and Social Events (Shanghai Pharma Running Club)</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>13:30-13:55</td>
<td><a href="resources/slides/session_3_1_[easeP21] An R tool to ease the Pinnacle 21 review process - Longfei Li &amp; Xing Wang.pptx">easeP21: An R tool to ease the Pinnacle 21 review process</a></td>
<td>Longfei Li, Xing Wang, Sanofi</td>
<td>Beijing</td>
</tr>
<tr class="even">
<td>13:55-14:20</td>
<td><a href="resources/slides/session_3_2_Automated Generation of Excel Spreadsheets - Jundong Ma.pptx">Automated Generation of Excel Spreadsheets: Integrating R and VBA for Enhanced Efficiency</a></td>
<td>Jundong, Dizal</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>14:20-14:45</td>
<td><a href="resources/slides/session_3_3_Automating Clinical Trial Data Analysis with R - Xiang Liu.pptx">Automating Clinical Trial Data Analysis with R</a></td>
<td>Xiang Liu, Hua Medicine</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>14:45-15:10</td>
<td><a href="resources/slides/session_3_4_Vue and webR Integration for Serverless Local Statistical Analysis in a Single HTML File - Kaiping Yang.pdf">Vue and webR Integration for Serverless Local Statistical Analysis in a Single HTML File</a></td>
<td>Kaiping Yang, BeiGene</td>
<td>Online</td>
</tr>
<tr class="odd">
<td>15:10-15:40</td>
<td>Break</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>15:40-16:05</td>
<td><a href="resources/slides/session_4_1_How can we ensure that health authorities reproduce the sponor's R based submission results - Renfa He &amp; He Liu.pptx">Insights from the First Hybrid R/SAS Submission to NMPA by Johnson &amp; Johnson Innovative Medicine + How can we ensure that health authorities reproduce the sponor’s R based submission results?</a></td>
<td>Renfa He, He Liu, J&amp;J</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>16:05-16:30</td>
<td><a href="resources/slides/session_4_2_Leverage Open-Source Knowledge into Statistical Validity with Validation - Frank Yang.pdf">Leverage open-source knowledge into statistical validity with validation</a></td>
<td>Frank Yang, CIMS Global</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>16:30-16:55</td>
<td><a href="resources/slides/session_4_3_RCTrep - An R Package for the Validation of Estimates of the (conditional) Average Treatment Effect - Lingjie Shen.pptx">A Two-Step Framework for Validating Causal Effect Estimates （published in Pharmacoepidemiology and Drug Safety）</a></td>
<td>Lingjie Shen, 白色巨塔</td>
<td>Shanghai</td>
</tr>
<tr class="odd">
<td>16:55-17:20</td>
<td><a href="https://rpact-com.github.io/slides-shanghai-2025/">Designing Clinical Trials in R with rpact and crmPack</a></td>
<td>Daniel Sabanés Bové, RCONIS</td>
<td>Shanghai</td>
</tr>
<tr class="even">
<td>17:20-17:30</td>
<td>Closing Remarks</td>
<td>Yan Qiao, BeiGene; Fan Zhang, Sanofi</td>
<td>Beijing</td>
</tr>
</tbody>
</table>
<section id="compareprism-a-package-to-perform-comprehensive-data-comparison-and-reporting" class="level2">
<h2 class="anchored" data-anchor-id="compareprism-a-package-to-perform-comprehensive-data-comparison-and-reporting">ComparePrism: A package to perform comprehensive data comparison and reporting</h2>
<p>叶波 Sanofi</p>
<p>The ComparePrism package is a comprehensive toolkit designed for comparing data sets, performing batch data comparisons, and summarizing comparison reports. The package offers three primary functions and a built-in Shiny App:</p>
<ol type="1">
<li><p><strong>Dataset Comparison:</strong> The <code>compare_prism()</code> function, inspired by SAS Proc Compare procedure, performs a detailed comparison between two data sets, optionally using parallel processing, and generates comprehensive reports in various formats (including HTML, Word, RTF, and Markdown) with support for multiple backends. The generated report highlights differences and similarities between datasets, making it easier to validate and review comparison results.</p></li>
<li><p><strong>Batch Comparison:</strong> The <code>compare_prism_batch()</code> function performs batch data comparisons of multiple pairs of data sets, optionally generating comprehensive individual or combined summary reports in various formats with support for multiple backends. It supports batch comparison of data in folders or pre-loaded, with customizable filters.</p></li>
<li><p><strong>Summary Report:</strong> The <code>compare_prism_summarize()</code> function aggregates and summarizes multiple comparison reports, providing a comprehensive overview of comparison results. It supports reading various file formats to extract information and generates an Excel report.</p></li>
<li><p><strong>Built-in Shiny App:</strong> Run <code>run_app()</code> to start the Shiny App for an interactive data comparison experience.</p></li>
</ol>
</section>
<section id="vue-and-webr-integration-for-serverless-local-statistical-analysis-in-a-single-html-file" class="level2">
<h2 class="anchored" data-anchor-id="vue-and-webr-integration-for-serverless-local-statistical-analysis-in-a-single-html-file">Vue and webR Integration for Serverless Local Statistical Analysis in a Single HTML File</h2>
<p>Kaiping Yang BeiGene</p>
<p>Abstract: This study introduces a pure HTML file constructed using Vue and webR technologies, which enables statistical analysis applications to run locally on users’ environments without the need for an R server. By integrating Vue’s frontend framework with the R language runtime environment provided by webR, we have developed a lightweight solution where users can launch a fully functional local statistical application simply by opening an HTML file. This approach leverages the advantages of modern web technologies, including client-side JavaScript and Vue’s reactive design, to achieve a seamless user interaction and data visualization experience. The research demonstrates how the powerful statistical analysis capabilities of the R language can be combined with Vue’s dynamic user interface, providing statisticians and data scientists with a convenient and efficient working platform. Moreover, this solution significantly reduces the deployment and maintenance costs of statistical analysis software, expanding its application across different environments and user groups. Keywords: Vue, webR, HTML file, local statistical analysis, serverless deployment</p>
</section>
<section id="developing-context-aware-ai-coding-assistants-for-clinical-data-analysis-in-r" class="level2">
<h2 class="anchored" data-anchor-id="developing-context-aware-ai-coding-assistants-for-clinical-data-analysis-in-r">Developing Context-Aware AI Coding Assistants for Clinical Data Analysis in R</h2>
<p>Steven Brooks<br>
Boehringer Ingelheim/Medicine (BDS) Clinical Data Scientist</p>
<p>In highly regulated environments where clinical data confidentiality is paramount, traditional AI coding assistants like ChatGPT present two significant challenges: they require data exposure to external systems, and they lack context-specific knowledge of organizational data structures and standards. We present an innovative solution that bridges this gap: a secure, context-aware application that combines large language models (LLMs) with clinical data standards to assist R users in analyzing confidential healthcare data. Our application, built using PandasAI and Apollo (an internal qualified LLM service) on Microsoft Azure infrastructure, has been trained on our organization’s clinical data standards and conventions. This enables it to generate and execute R code that is precisely tailored to our data structures, variable definitions, and analytical requirements. The system can perform various tasks including exploratory data analysis, data quality checks, and the automated generation of tables, figures, and listings.</p>
<p>We will demonstrate how this tool serves dual purposes: accelerating the work of experienced R programmers while simultaneously functioning as an educational platform for R learners working with clinical data. Unlike generic AI coding assistants, our solution provides contextually relevant code suggestions that align with organizational standards and practices, all while maintaining data privacy and regulatory compliance. This presentation will showcase real-world applications, discuss the technical architecture, and explore how similar systems could be implemented in other organizations working with sensitive data. We’ll also address the broader implications for R education and development in regulated industries.</p>
</section>
<section id="how-can-we-ensure-that-health-authorities-reproduce-the-sponors-r-based-submission-results-insights-from-the-first-hybrid-rsas-submission-to-nmpa-by-johnson-johnson-innovative-medicine" class="level2">
<h2 class="anchored" data-anchor-id="how-can-we-ensure-that-health-authorities-reproduce-the-sponors-r-based-submission-results-insights-from-the-first-hybrid-rsas-submission-to-nmpa-by-johnson-johnson-innovative-medicine">How can we ensure that health authorities reproduce the sponor’s R based submission results? / Insights from the First Hybrid R/SAS Submission to NMPA by Johnson &amp; Johnson Innovative Medicine</h2>
<p>He Liu, Renfa He J&amp;J</p>
</section>
<section id="a-new-era-for-r-programming-how-ai-is-changing-the-way-we-work" class="level2">
<h2 class="anchored" data-anchor-id="a-new-era-for-r-programming-how-ai-is-changing-the-way-we-work">A New Era for R Programming: How AI is Changing the Way We Work</h2>
<p>宋嘉麒 Johnson &amp; Johnson</p>
<p>The rapid development of Artificial Intelligence (AI) is transforming R programming by lowering barriers and improving efficiency. With AI, beginners can quickly get started, while experienced users and experts see significant enhancements in their capabilities, redefining the skill hierarchy in R programming. R demonstrates great flexibility and potential with AI support, particularly in the pharmaceutical industry’s data analysis and visualization workflows. R’s openness and seamless integration with AI make it a highly efficient and extensible programming language for data analysis.</p>
<p>This presentation will explore how AI enhances R programming in several key areas. In the creation of TLGs (Tables, Listings, and Graphs), AI simplifies complex tasks, such as generating high-quality visualizations with ggplot2 or creating sophisticated tables and summaries with rtables and tern. In the development of R Shiny applications, AI introduces innovative approaches, including step-by-step construction based on textual descriptions, application generation from sketches, and replicating designs extracted from existing websites. Additionally, AI supports R learning and training by generating customized R Markdown documents, enabling users to quickly acquire R programming skills and enjoy a personalized learning experience.</p>
<p>This talk will demonstrate how the deep integration of AI and R programming enables us to increase productivity, offering new possibilities for data analysis, visualization, and application development in the pharmaceutical industry.</p>
</section>
<section id="leveraging-r-and-ai-advancing-adam-automation-for-clinical-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="leveraging-r-and-ai-advancing-adam-automation-for-clinical-data-analysis">Leveraging R and AI: Advancing ADaM Automation for Clinical Data Analysis</h2>
<p>高爽 百济神州</p>
<p>Abstract: This presentation explores the integration of R programming and AI technologies to streamline and automate the creation of ADaM (Analysis Data Model) datasets in clinical trials. We will discuss how R’s robust data manipulation capabilities, combined with AI techniques like machine learning and natural language processing (NLP), can intelligently interpret SAPs (Statistical Analysis Plans) and CRFs (Case Report Forms) to automate ADaM dataset generation. Additionally, we will showcase the design of an end-to-end automated workflow and address key challenges encountered during implementation. This session aims to highlight the potential of R and AI in transforming ADaM automation and its broader implications for clinical data management.</p>
</section>
<section id="r-package-to-calculate-toxicity-grade" class="level2">
<h2 class="anchored" data-anchor-id="r-package-to-calculate-toxicity-grade">R package to calculate toxicity grade</h2>
<p>李聃 默克</p>
<p>This article introduces an R package to calculate toxicity grade. An Excel rule file is first converted into data frame and imported during runtime.</p>
<p>Functions to calculate toxicity grade is generated on the fly based on rules defined. The function to do toxicity calculation is exposed to user via NAMESPACE file of the package.</p>
</section>
<section id="automated-generation-of-excel-spreadsheets-integrating-r-and-vba-for-enhanced-efficiency" class="level2">
<h2 class="anchored" data-anchor-id="automated-generation-of-excel-spreadsheets-integrating-r-and-vba-for-enhanced-efficiency">Automated Generation of Excel Spreadsheets: Integrating R and VBA for Enhanced Efficiency</h2>
<p>马俊东 迪哲医药</p>
</section>
<section id="a-two-step-framework-for-validating-causal-effect-estimates-published-in-pharmacoepidemiology-and-drug-safety" class="level2">
<h2 class="anchored" data-anchor-id="a-two-step-framework-for-validating-causal-effect-estimates-published-in-pharmacoepidemiology-and-drug-safety">A Two-Step Framework for Validating Causal Effect Estimates （published in Pharmacoepidemiology and Drug Safety）</h2>
<p>沈凌洁 临度医疗科技有限公司</p>
<p>Background: Comparing causal effect estimates obtained using observational data to those obtained from the gold standard (i.e., randomized controlled trials [RCTs]) helps assess the validity of these estimates. However, comparisons are challenging due to differences between observational data and RCT generated data. The unknown treatment assignment mechanism in the observational data and varying sampling mechanisms between the RCT and the observational data can lead to confounding and sampling bias, respectively.</p>
<p>Aims: The objective of this study is to propose a two-step framework to validate causal effect estimates obtained from observational data by adjusting for both mechanisms.</p>
<p>Materials and Methods: An estimator of causal effects related to the two mechanisms is constructed. A two-step framework for comparing causal effect estimates is derived from the estimator. An R package RCTrep is developed to implement the framework in practice (https://cran.r-project.org/web/packages/RCTrep/index.html).</p>
<p>Results: A simulation study is conducted to show that using our framework observational data can produce causal effect estimates similar to those of an RCT. A real-world application of the framework to validate treatment effects of adjuvant chemotherapy obtained from registry data is demonstrated.</p>
<p>Conclusion: This study constructs a framework for comparing causal effect estimates between observational data and RCT data, facilitating the assessment of the validity of causal effect estimates obtained from observational data.</p>
</section>
<section id="designing-clinical-trials-in-r-with-rpact-and-crmpack" class="level2">
<h2 class="anchored" data-anchor-id="designing-clinical-trials-in-r-with-rpact-and-crmpack">Designing Clinical Trials in R with rpact and crmPack</h2>
<p>Daniel Sabanés Bové RCONIS</p>
<p>The focus of this presentation will be on clinical trial designs and their implementation in R. We will present rpact, which is a fully validated, open source, free-of-charge R package for the design and analysis of fixed sample size, group-sequential, and adaptive trials. We will summarize and showcase the functionality of rpact:</p>
<p>Enables the design of confirmatory adaptive group sequential designs</p>
<p>Provides interim data analysis including early efficacy stopping and futility analyses</p>
<p>Enables sample-size reassessment with different strategies</p>
<p>Enables treatment arm selection in multi-stage multi-arm (MAMS) designs</p>
<p>Provides a comprehensive and reliable sample size calculator</p>
<p>In addition, we will also briefly present crmPack, which is an open source, free-of-charge R package for the design and analysis of dose escalation trials.</p>
<p>Together, rpact and crmPack enable the implementation of a very wide range of clinical trials</p>
</section>
<section id="automating-clinical-trial-data-analysis-with-r" class="level2">
<h2 class="anchored" data-anchor-id="automating-clinical-trial-data-analysis-with-r">Automating Clinical Trial Data Analysis with R</h2>
<p>刘翔 华领医药</p>
<p>The data generated in clinical trials is becoming increasingly complex and voluminous, necessitating efficient, reproducible, and accurate data analysis methods. The best approach is to develop an automated clinical trial data analysis system. This presentation introduces an R-based automated clinical trial data analysis system currently under development. Here I share some of my experiences and thoughts.</p>
</section>
<section id="leverage-open-source-knowledge-into-statistical-validity-with-validation" class="level2">
<h2 class="anchored" data-anchor-id="leverage-open-source-knowledge-into-statistical-validity-with-validation">Leverage open-source knowledge into statistical validity with validation</h2>
<p>Frank Yang CIMS</p>
<p>In recent years, R-based approach for clinical trials has rapidly gained attention in the pharmaceutical industry. There are many knowledge resources available, where one can efficiently incorporate those (e.g., {pharmaverse}, {openstatsware} and working groups) into their workflow. The available contribution will include CDISC standard data generation and static and interactive statistical results. Before proceeding on the real practice or automation, one might ask about the validity or reliability of the package, the extent on how we can trust such an approach. In this presentation, we will introduce how to leverage open-sourced R package on internal development with good practice and validated evidence, including preferred package, development cycle, validation method (PHUSE suggested validation framework of {valtools}), and potential usage in pharmaceutical context (e.g., R Shiny, Quarto).</p>
</section>
<section id="easep21-an-r-tool-to-ease-the-pinnacle-21-review-process" class="level2">
<h2 class="anchored" data-anchor-id="easep21-an-r-tool-to-ease-the-pinnacle-21-review-process">easeP21: An R tool to ease the Pinnacle 21 review process</h2>
<p>Longfei LI/Xing WANG/En WANG/Nana XI Sanofi</p>
<p>To address the shortcomings of traditional Pinnacle 21 (P21) reports in terms of precision in issue identification, data integrity, and traceability, we have meticulously crafted an automated tool based on R package and ShinyApp—easeP21. This tool automatically identifies issue types and supplements relevant information based on the P21 reports and associated datasets provided by the user, ultimately generating summary reports (for SDTM and ADAM) and/or data management (DM) reports (only for SDTM) for convenient user access.</p>
<p>easeP21 utilizes P21 validation rules, programming rules, and CDISC IG guidelines to accurately categorize SDTM issues into data issues, programming or metadata issues, and potential false positives. This R tool has reshaped the structure of P21 reports, producing a comprehensive DM report and an all-encompassing summary report for SDTM, while only providing a summary report for ADAM. The DM report focuses on data issues and supplements critical SDTM information, ensuring full traceability of the data. The summary report clearly marks specific issues and links them to validation rules, greatly simplifying the cumbersome process of cross-file review. easeP21 particularly refine the management of split domain issues, precisely delineating them to specific datasets (such as FAAE and FACE), ensuring the continuity and traceability of review conclusions across different versions, thus surpassing the limitations of traditional P21 reports and significantly enhancing the consistency and reliability of the reports.</p>
<p>With its innovative classification technology and the unique data processing capabilities of R, easeP21 has greatly optimized the clinical data review process, offering new insights for clinical trial data management.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.com\/pharmarug\/pharmarug-2025");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Supported by <a href="https://www.r-consortium.org/"><img src="resources/rconsortium.png" class="img-fluid" alt="Posit" width="120"></a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://pharmarug.github.io/pharmarug-2023/">
<p>PharmaRUG 2023</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://insightsengineering.github.io/nest-2023-summeR/">
<p>Open Source Clinical Reporting summeR</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://pharmarug.github.io/pharmarug-2024/">
<p>PharmaRUG 2024</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>